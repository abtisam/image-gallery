(this["webpackJsonpimage-gallery"]=this["webpackJsonpimage-gallery"]||[]).push([[0],{134:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(9),o=a.n(l),s=(a(55),a(5)),r=a(6),c=a(13),u=a(11),m=a(12),g=a(14),d=a.n(g),h=a(24),p=a(18),b=a(3),f=a(45),v=a.n(f),I=(a(102),a(46)),O=a.n(I),k=a(47),x=a.n(k),j=a(48),y=a(49),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getImageIndex=function(e){return a.state.imageIndex+e},a.state={imageIndex:0,lightboxIsOpen:!0},a.gotoPrevious=a.gotoPrevious.bind(Object(b.a)(a)),a.gotoNext=a.gotoNext.bind(Object(b.a)(a)),a.closeLightbox=a.closeLightbox.bind(Object(b.a)(a)),a.getImageIndex=a.getImageIndex.bind(Object(b.a)(a)),a.deleteImage=a.deleteImage.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"gotoPrevious",value:function(){this.state.imageIndex>0&&this.setState({imageIndex:this.getImageIndex(-1)})}},{key:"gotoNext",value:function(){this.setState({imageIndex:this.getImageIndex(1)})}},{key:"closeLightbox",value:function(){console.log("close"),this.setState({lightboxIsOpen:!1})}},{key:"deleteImage",value:function(){var e,t=this.props.imageIndex;if(e=JSON.parse(localStorage.getItem("images"))){localStorage.removeItem("images"),x.a.remove(e,(function(e,a){return a===t}));var a=JSON.stringify(e);localStorage.setItem("images",a)}this.closeLightbox()}},{key:"render",value:function(){return this.state.lightboxIsOpen?i.a.createElement(O.a,{images:this.props.images,backdropClosesModal:!0,currentImage:this.state.imageIndex,isOpen:this.state.lightboxIsOpen,onClickPrev:this.gotoPrevious,onClickNext:this.gotoNext,onClose:this.closeLightbox,rotatable:!0,zoomable:!0,preloadNextImage:!0,customControls:[i.a.createElement("button",{class:"delete-button",key:"deleteImage",onClick:this.deleteImage},i.a.createElement(j.a,{size:"4x",icon:y.a}))]}):i.a.createElement(C,null)}}]),t}(n.Component),w=function(){function e(){Object(s.a)(this,e)}return Object(r.a)(e,null,[{key:"getBase64",value:function(e,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){console.log("Error: ",e)}}},{key:"urltoFile",value:function(){var e=Object(p.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){return e.arrayBuffer()})).then((function(e){return new File([e],a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),C=(a(134),function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fileObj=[],a.fileArray=[],a.images=[],a.base64Arr=[],a.state={enlarge:!1,updatedImages:[],file:[null],imageIndex:0,savedImages:[]},a.uploadMultipleFiles=a.uploadMultipleFiles.bind(Object(b.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(b.a)(a));var n;return(n=JSON.parse(localStorage.getItem("images")))&&a.reloadImage(n),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"reloadImage",value:function(e){var t=this;e.map(function(){var e=Object(p.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new Image).src=a,n={src:a,thumbnail:a,thumbnailWidth:320,thumbnailHeight:174},t.base64Arr.push(a),t.setState({savedImages:[].concat(Object(h.a)(t.state.savedImages),[n])}),t.images.push(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.table(this.images)}},{key:"componentDidMount",value:function(){console.log("component did mount"),console.table(this.state.savedImages),this.setState({savedImages:Object(h.a)(this.images)})}},{key:"componentWillMount",value:function(){console.log("component will mount")}},{key:"onClickImage",value:function(){console.log("image clicked")}},{key:"uploadFiles",value:function(e){e.preventDefault(),console.log(this.state.file)}},{key:"callback",value:function(){console.log("file updated !")}},{key:"uploadMultipleFiles",value:function(e){var t=this;this.fileObj.push(e.target.files),console.log("length----".concat(this.fileObj[0].length));for(var a=0;a<this.fileObj[0].length;a++){var n=this.fileObj[0][a];this.fileArray.push(URL.createObjectURL(n)),w.getBase64(n,(function(e){t.base64Arr.push(e);var a=JSON.stringify(t.base64Arr);localStorage.setItem("images",a);var n={src:e,thumbnail:e,thumbnailWidth:320,thumbnailHeight:174};t.images.push(n)}))}console.table(this.images),console.log("DONE !")}},{key:"render",value:function(){var e=this;return this.state.enlarge?i.a.createElement("div",null,i.a.createElement(E,{images:this.state.updatedImages,imageIndex:this.state.imageIndex})):(console.table(this.images),this.state.savedImages.length<=0?i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("form",null,i.a.createElement("div",{className:"form-group center"},i.a.createElement("div",null,i.a.createElement("input",{type:"file",id:"element1",className:"form-control center",onChange:this.uploadMultipleFiles,multiple:!0}),i.a.createElement("input",{type:"button",id:"element2",value:"Upload",onClick:function(){return window.location.reload()}}))))),i.a.createElement("div",{class:"center"},"No Images found !")):i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("form",null,i.a.createElement("div",{className:"form-group center"},i.a.createElement("div",null,i.a.createElement("input",{type:"file",id:"element1",className:"form-control center",onChange:this.uploadMultipleFiles,multiple:!0}),i.a.createElement("input",{type:"button",id:"element2",value:"Upload",onClick:function(){return window.location.reload()}}))))),i.a.createElement("div",{class:"container"},i.a.createElement(v.a,{images:this.state.savedImages,onClickImage:this.onClickImage,onClickThumbnail:function(t){return function(t){console.log("light box  clicked");var a=[];a.push(e.images[t]),e.setState({enlarge:!0,updatedImages:a,imageIndex:t})}(t)}}))))}}]),t}(n.Component)),N=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(C,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},50:function(e,t,a){e.exports=a(135)},55:function(e,t,a){}},[[50,1,2]]]);
//# sourceMappingURL=main.afc11b7c.chunk.js.map